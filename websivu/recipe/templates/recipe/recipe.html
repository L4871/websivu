{% extends "recipe/base.html" %}
{% load static %}
{% block content%}




<div class="banner">
	

</div>
<!-- carousel-1 -->

<div class="container-fluid">
	<a href="{%url 'recipe-create'%}"> <p>Luo uusi resepti<a href="{%url 'recipe-create'%}"></p><a/>
	<h4>Aamiais ideoita</h4>
	<div id="carousel-1" class="carousel slide" data-ride="carousel" data-interval="false">
		<div class="carousel-inner row w-100 mx-auto" role="listbox">
			<div class="carousel-item col-md-3 active">
				<div class="card">
					<a href="{% url 'recipe-detail' breakfasts.qs.0.slug %}">
					<img class = "card-img-top" src="{% static 'recipe/media/default.png' %}" alt="Smiley face" height="200" width="200"> 
					<!--<img src={{MEDIA_URL}}{{breakfasts.qs}}>-->
					<div class="card-body">
			 			<p>{{breakfasts.qs.0.recipe}}</p>
					</div>
			
					<div class="card-footer">
						<ul>
							<li><small class="text-muted">{{breakfasts.qs.0.meal}}</small></li>
							<li class="time"><i class="fa fa-clock-o" aria-hidden="true"><small class="text-muted"> NaN min</small></i></li>
						</ul>

					</div>

					</a>
				</div>
			</div>
			{% for breakfast in breakfasts.qs|slice:"1:" %}
			<div class="carousel-item col-md-3">
				<div class="card">
					<a href="{% url 'recipe-detail' breakfast.slug %}">
					<img class = "card-img-top" src="{% static 'recipe/media/default.png' %}" alt="Smiley face" height="200" width="200"> 
					
					<div class="card-body">
			 			<p>{{breakfast.recipe}}</p>
					</div>
			
					<div class="card-footer">
						<ul>
							<li><small class="text-muted">{{breakfast.meal}}</small></li>
							<li class="time"><i class="fa fa-clock-o" aria-hidden="true"><small class="text-muted"> NaN min</small></i></li>
						</ul>

					</div>

					</a>
				</div>

			</div>
			{% endfor %}
		</div>
			<a class="carousel-control-prev" href="#carousel-1" role="button" data-slide="prev">
            	<i class="fa fa-chevron-left fa-lg text-muted"></i>
            	<span class="sr-only">Previous</span>
        	</a>
        	<a class="carousel-control-next text-faded" href="#carousel-1" role="button" data-slide="next">
           		<i class="fa fa-chevron-right fa-lg text-muted"></i>
            	<span class="sr-only">Next</span>
       		</a>




	</div>

</div>
<!-- </carousel-1> -->

<!-- carousel-2 -->
<div class="container-fluid">
	<h4>Lounas ideoita</h4>
	<div id="carousel-2" class="carousel slide" data-ride="carousel" data-interval="false">
		<div class="carousel-inner row w-100 mx-auto" role="listbox">
			<div class="carousel-item col-md-3 active">
				<div class="card">
					<a href="{% url 'recipe-detail' lunches.qs.0.slug %}">
 

                                        {% if lunches.qs.0.image %}
                                                <img class="card-img-top" src="{{MEDIA_URL}}{{lunches.qs.0.image.url}}" height="200" width="200">
                                        {%else%}
                                                <img class = "card-img-top" src="{% static 'recipe/media/default.png' %}" alt="Smiley face" height="200" width="200">
                                        {%endif%}
					<div class="card-body">
			 			<p>{{lunches.qs.0.recipe}}</p>
					</div>
			
					<div class="card-footer">
						<ul>
							<li><small class="text-muted">{{lunches.qs.0.meal}}</small></li>
							<li class="time"><i class="fa fa-clock-o" aria-hidden="true"><small class="text-muted"> 10min</small></i></li>
						</ul>

					</div>

					</a>
				</div>
			</div>
			{% for lunch in lunches.qs|slice:"1:" %}
			<div class="carousel-item col-md-3">
				<div class="card">
					<a href="{% url 'recipe-detail' lunch.slug %}">
					<!--<img class = "card-img-top" src="{% static 'recipe/media/default.png' %}" alt="Smiley face" height="200" width="200">--> 
					{% if lunch.image %}
						<img class="card-img-top" src="{{MEDIA_URL}}{{lunch.image.url}}" height="200" width="200">
					{%else%}
						<img class ="card-img-top" src="{% static 'recipe/media/default.png'%}" height="200" width="200">
					{%endif%}
					<div class="card-body">
			 			<p>{{lunch.recipe}}</p>
					</div>
			
					<div class="card-footer">
						<ul>
							<li><small class="text-muted">{{lunch.meal}}</small></li>
							<li class="time"><i class="fa fa-clock-o" aria-hidden="true"><small class="text-muted"> NaN min</small></i></li>
						</ul>

					</div>

					</a>
				</div>

			</div>
			{% endfor %}
		</div>
			<a class="carousel-control-prev" href="#carousel-2" role="button" data-slide="prev">
            	<i class="fa fa-chevron-left fa-lg text-muted"></i>
            	<span class="sr-only">Previous</span>
        	</a>
        	<a class="carousel-control-next text-faded" href="#carousel-2" role="button" data-slide="next">
           		<i class="fa fa-chevron-right fa-lg text-muted"></i>
            	<span class="sr-only">Next</span>
       		</a>



	</div>

</div>
<!-- </carousel-2> -->

<!-- carousel-3 -->
<div class="container-fluid">
	<h4>Päivällis ideoita</h4>
	<div id="carousel-3" class="carousel slide" data-ride="carousel" data-interval="false">
		<div class="carousel-inner row w-100 mx-auto" role="listbox">
			<div class="carousel-item col-md-3 active">
				<div class="card">
					<a href="{% url 'recipe-detail' dinners.qs.0.slug %}">
					
					{% if dinners.qs.0.image %}
						<img class="card-img-top" src="{{MEDIA_URL}}{{dinner.qs.0.image.url}}" height="200" width="200">
					{%else%}
                                                <img class = "card-img-top" src="{% static 'recipe/media/default.png' %}" alt="Smiley face" height="200" width="200">
					{%endif%}
					<div class="card-body">
			 			<p>{{dinners.qs.0.recipe}}</p>
					</div>
			
					<div class="card-footer">
						<ul>
							<li><small class="text-muted">{{dinners.qs.0.meal}}</small></li>
							<li class="time"><i class="fa fa-clock-o" aria-hidden="true"><small class="text-muted"> 10min</small></i></li>
						</ul>

					</div>

					</a>
				</div>
			</div>
			{% for dinner in dinners.qs|slice:"1:" %}
			<div class="carousel-item col-md-3">
				<div class="card">
					<a href="{% url 'recipe-detail' dinner.slug %}">
					<!--<img class = "card-img-top" src="{% static 'recipe/media/default.png' %}" alt="Smiley face" height="200" width="200">-->
                                        {% if dinner.image %}
                                                <img class="card-img-top" src="{{MEDIA_URL}}{{dinner.image.url}}" height="200" width="200">
                                        {%else%}
                                                <img class ="card-img-top" src="{% static 'recipe/media/default.png'%}" height="200" width="200">
                                        {%endif%}
 
					
					<div class="card-body">
			 			<p>{{dinner.recipe}}</p>
					</div>
			
					<div class="card-footer">
						<ul>
							<li><small class="text-muted">{{dinner.meal}}</small></li>
							<li class="time"><i class="fa fa-clock-o" aria-hidden="true"><small class="text-muted"> NaN min</small></i></li>
						</ul>

					</div>

					</a>
				</div>

			</div>
			{% endfor %}
		</div>
			<a class="carousel-control-prev" href="#carousel-3" role="button" data-slide="prev">
            	<i class="fa fa-chevron-left fa-lg text-muted"></i>
            	<span class="sr-only">Previous</span>
        	</a>
        	<a class="carousel-control-next text-faded" href="#carousel-3" role="button" data-slide="next">
           		<i class="fa fa-chevron-right fa-lg text-muted"></i>
            	<span class="sr-only">Next</span>
       		</a>



	</div>

</div>
<!-- </carousel-3> -->
<!-- carousel-4 -->
<div class="container-fluid">
	<h4>Välipala ideoita</h4>
	<div id="carousel-4" class="carousel slide" data-ride="carousel" data-interval="false">
		<div class="carousel-inner row w-100 mx-auto" role="listbox">
			<div class="carousel-item col-md-3 active">
				<div class="card">
					<a href="{% url 'recipe-detail' breakfasts.qs.0.slug %}">
					{% if snacks.qs.0.image %}
                                                <img class="card-img-top" src="{{MEDIA_URL}}{{dinner.qs.0.image.url}}" height="200" width="200">
                                        {%else%}
                                                <img class = "card-img-top" src="{% static 'recipe/media/default.png' %}" alt="Smiley face" height="200" width="200">
                                        {%endif%}
					<div class="card-body">
			 			<p>{{snacks.qs.0.recipe}}</p>
					</div>
			
					<div class="card-footer">
						<ul>
							<li><small class="text-muted">{{snacks.qs.0.meal}}</small></li>
							<li class="time"><i class="fa fa-clock-o" aria-hidden="true"><small class="text-muted"> NaN min</small></i></li>
						</ul>

					</div>

					</a>
				</div>
			</div>
			{% for snack in snacks.qs|slice:"1:" %}
			<div class="carousel-item col-md-3">
				<div class="card">
					<a href="{% url 'recipe-detail' snack.slug %}">
					 
                                        {% if snack.image %}
                                                <img class="card-img-top" src="{{MEDIA_URL}}{{snack.image.url}}" height="200" width="200">
                                        {%else%}
                                                <img class ="card-img-top" src="{% static 'recipe/media/default.png'%}" height="200" width="200">
                                        {%endif%}
					<div class="card-body">
			 			<p>{{snack.recipe}}</p>
					</div>
			
					<div class="card-footer">
						<ul>
							<li><small class="text-muted">{{snack.meal}}</small></li>
							<li class="time"><i class="fa fa-clock-o" aria-hidden="true"><small class="text-muted"> NaN min</small></i></li>
						</ul>

					</div>

					</a>
				</div>

			</div>
			{% endfor %}
		</div>
			<a class="carousel-control-prev" href="#carousel-1" role="button" data-slide="prev">
            	<i class="fa fa-chevron-left fa-lg text-muted"></i>
            	<span class="sr-only">Previous</span>
        	</a>
        	<a class="carousel-control-next text-faded" href="#carousel-1" role="button" data-slide="next">
           		<i class="fa fa-chevron-right fa-lg text-muted"></i>
            	<span class="sr-only">Next</span>
       		</a>




	</div>
</div>
<!-- </carousel-4> -->
<div class="container-fluid">
	<small>.</small>
</div>
<script type="text/javascript">

// load document before running jquery
$(function(){

  // jQuery methods go here...

$(".carousel").carousel({
  interval: false,
  wrap: false
});

$('.carousel').on('slide.bs.carousel', function (obj) {
    //get current carousel
    var $CAR=$(this);

    //get curent card index
    var currCard = $(obj.relatedTarget).index();
    //number of cards
    var countCard = $CAR.find('.card').length;
    var prevSlider = $CAR.children(".carousel-control-prev")
    var nextSlider = $CAR.children(".carousel-control-next")
    if(currCard == countCard -3)
    	nextSlider.hide();
    else
    	nextSlider.show();

    if(currCard == 0)
    	prevSlider.hide();
    else
    	prevSlider.show();

})

}); 


function test(){
	console.log("asd")
}
	// looppaa jokainen carousel eli jokainen meal(breakfast, lunch..)
	carousels = document.getElementsByClassName('carousel-inner');
	// kaikki tämän mealin kortit
	for(carouselIdx = 0; carouselIdx < carousels.length; carouselIdx++){
		console.log("Carousel")
		console.log(carousels[carouselIdx])
		cards= carousels[carouselIdx].getElementsByClassName('card');
		for(cardIdx = 0; cardIdx < cards.length; cardIdx++){

			if(cards[cardIdx].parentElement.className == "carousel-item col-md-3 active"){
				//console.log(cards[cardIdx].parentElement)
				console.log(cards[cardIdx].parentElement)
				console.log(cardIdx)
			}
		}
		//console.log(cards);
		//for(cardIdx = 0; cardIdx < )
	}
	carousels= carousels[0].getElementsByClassName('card');

	//console.log(carousels[0].parentElement);
	//console.log(carousels[1].parentElement);


</script>


{% endblock content %}
